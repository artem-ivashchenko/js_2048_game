parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";for(var e=4,r=document.querySelector(".game-field").firstElementChild,t=document.querySelector(".game-score"),n=document.querySelector(".start"),o=document.querySelectorAll("td"),i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],c=0;c<e;c++)for(var a=0;a<e;a++){var u=r.children[c].children[a],s=i[c][a];u.id=c.toString()+"-"+a.toString(),l(u,s)}function l(e,r){e.innerText="",e.classList.value="field-cell",r>0&&(e.innerText=r,e.classList.add("field-cell--".concat(r)))}function d(e){(document.querySelectorAll(".message").forEach(function(e){return e.classList.add("hidden")}),"Start"===n.innerText)?(window.addEventListener("keydown",f),h(),h(),n.removeEventListener("click",d)):(window.removeEventListener("keydown",f),o.forEach(function(e){e.innerText="",e.classList.value="field-cell"}),i=i.map(function(e){return e.map(function(e){return 0})}),t.innerText=0,n.classList.value="button start",n.innerText="Start",document.querySelector(".message-start").classList.remove("hidden"))}function f(e){switch("ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(n.classList.value="button restart",n.innerText="Restart",n.addEventListener("click",d)),e.key){case"ArrowLeft":k("left");break;case"ArrowRight":k("right");break;case"ArrowUp":k("up");break;case"ArrowDown":k("down")}}function v(e){for(var r=L(e),n=0;n<r.length-1;n++)r[n]===r[n+1]&&(r[n]*=2,r[n+1]=0,t.innerText=+t.innerText+r[n]);return r=S(r=L(r))}function m(e){return Math.floor(Math.random()*e)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return i.some(function(r){return r.some(function(r){return r===e})})}function w(){for(var r=0;r<e;r++)for(var t=0;t<e;t++){if(r<e-1&&t<e-1&&(i[r][t]===i[r][t+1]||i[r][t]===i[r+1][t]))return!0;if(r===e-1&&t<e-1&&i[r][t]===i[r][t+1])return!0;if(t===e-1&&r<e-1&&i[r][t]===i[r+1][t])return!0}return!1}function h(){if(g())for(var r=!1;!r;){var t=m(e),n=m(e),o=m(10);if(o=o>1?2:4,0===i[t][n]){var c=document.getElementById(t.toString()+"-"+n.toString());i[t][n]=o,c.innerText=o,c.classList.add("field-cell--".concat(o)),r=!0}}}function y(e){document.querySelector(".message-".concat(e)).classList.remove("hidden"),window.removeEventListener("keydown",f)}function L(e){return e.filter(function(e){return 0!==e})}function S(r){for(var t=r;t.length<e;)t.push(0);return t}function k(e){"right"===e||"left"===e?E(e):x(e),g(2048)?y("win"):g()||w()?h():y("lose")}function E(r){for(var t=0;t<e;t++){var n=i[t];"right"===r&&n.reverse(),n=v(n),"right"===r&&n.reverse(),i[t]=n;for(var o=0;o<e;o++){l(document.getElementById(t.toString()+"-"+o.toString()),i[t][o])}}}function x(r){for(var t=0;t<e;t++){var n=[i[0][t],i[1][t],i[2][t],i[3][t]];"down"===r&&n.reverse(),n=v(n),"down"===r&&n.reverse();for(var o=0;o<e;o++){i[o][t]=n[o],l(document.getElementById(o.toString()+"-"+t.toString()),i[o][t])}}}n.addEventListener("click",d);
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.09b666f5.js.map